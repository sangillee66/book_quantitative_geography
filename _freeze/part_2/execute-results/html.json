{
  "hash": "9e3ba172717dfb0664fcfe6528c40061",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"기술통계와 데이터 탐색\"\nauthor: Sang-Il Lee\ndate-modified: last-modified\nnumber-sections: true\nformat: \n  html: \n    toc: true\ncode-link: true\ncode-copy: true\nexecute: \n  warning: false\n  error: false\n  freeze: auto\neditor: visual\neditor_options: \n  chunk_output_type: console\n---\n\n\n이 장에서 예제로 사용할 데이터를 불러와 정리한다. 필수적인 패키지를 불러온다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(readxl)\nlibrary(writexl)\nlibrary(sf)\nlibrary(tmap)\n```\n:::\n\n\n우선 속성 데이터를 불러와 정리한다. 전자는 출생과 사망 변수가 모두 포함되어 있고, 후자에는 출생 관련 변수만 들어 있다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmap_data_2023 <- read_excel(\"D:/My R/Population Geography/4 Population Dynamics/Vital_Map_Data_Sigungu_2023.xlsx\")\nvital_data_2023 <- read_excel(\"D:/My R/Quantitative Geography/kor_vital_data_2023.xlsx\")\n```\n:::\n\n\n두 데이터를 결합해 완전한 데이터를 만든다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_kr_2023 <- vital_data_2023 |> \n  left_join(\n    map_data_2023 |> select(Region_CD, Death, CDR, MOM_age, SMR1), \n    join_by(SGG_CD == Region_CD)\n  ) |> \n  relocate(\n    MOM_age, .before = TFR,\n  ) |> \n  rename(\n    region = Region, \n    sudo = Sudo,\n    births = Births,\n    increase = NIncrease, \n    p_f1549 = P_F1549,\n    mom_age = MOM_age, \n    deaths = Death, \n    SMR = SMR1\n  )\n```\n:::\n\n\n엑셀과 rds 포맷으로 저장한다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwrite_xlsx(\n  df_kr_2023, \"data/df_kr_2023.xlsx\"\n)\nwrite_rds(\n  df_kr_2023, \"data/df_kr_2023.rds\"\n)\n```\n:::\n\n\n형상 데이터를 불러온다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsf_sd <- read_sf(\"D:/My R/Korean Administrative Areas/행정구역 셰이프 파일/3 Generalization/2023_2Q/SIDO_2023_2Q_GEN_0050.shp\", options = \"ENCODING=CP949\")\nsf_sgg <- read_sf(\"D:/My R/Korean Administrative Areas/행정구역 셰이프 파일/3 Generalization/2023_2Q/SIGUNGU1_2023_2Q_GEN_0050.shp\", options = \"ENCODING=CP949\")\nsf_sd_line <- read_sf(\"D:/My R/Korean Administrative Areas/행정구역 셰이프 파일/3 Generalization/2023_2Q/SIDO_Polyline_2023_2Q_GEN_0050.shp\", options = \"ENCODING=CP949\")\nsf_box_seohae <- sf_sd_line <- read_sf(\"D:/My R/Korean Administrative Areas/행정구역 셰이프 파일/3 Generalization/2023_2Q/BBOX_Seohae3_2023_2Q_GEN_0050.shp\", options = \"ENCODING=CP949\")\nsf_box_ulleung <- sf_sd_line <- read_sf(\"D:/My R/Korean Administrative Areas/행정구역 셰이프 파일/3 Generalization/2023_2Q/BBOX_Ulleung_2023_2Q_GEN_0050.shp\", options = \"ENCODING=CP949\")\n```\n:::\n",
    "supporting": [
      "part_2_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}